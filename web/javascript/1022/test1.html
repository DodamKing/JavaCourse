<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>정규식 사용 해보기</h2>
    <p>
        아이디 <input type="text" name="mid" id="mid" autofocus required />
    </p>
    <p>
        성 명 <input type="text" name="name" id="name" />
    </p>
    <p>
        휴대폰 <input type="text" id="phone">
    </p>
    <p>
        이메일 <input type="text" id="email">
    </p>
    <p>
        <input type="button" value="Check" onclick="fCheck()">
        <input type="reset" value="Reset" onclick="re()">
    </p>

    <script>
        function fCheck() {
            "use strict"

            let regId = /^[a-zA-Z]+[a-zA-Z0-9_]{3,19}$/g;
            let regName = /^[a-zA-Z가-힣]{1,19}$/g;
            let regPhone = /\d{2,3}-\d{3,4}-\d{4}$/;
            let regEmail = /^[a-zA-Z0-9_+-]+@[\w]+\.[\w]+/;
            let name = document.getElementById("name");

            if (regId.test(mid.value)) {
                if (regName.test(name.value)) {
                    if (!regPhone.test(phone.value)) {
                        alert("전화번호를 확인하세요.");
                    }
                    else {
                        if (!regEmail.test(email.value)) {
                            alert("이메일 형식을 확인하세요.");
                        }
                        else {
                            alert("드디어 성공!")
                        };
                    }
                }
                else {
                    alert("가능하지 않은 성명 입니다.");
                }
            }
            else {
                alert("가능하지 않은 아이디 입니다.");
            }
            
        }

        function re() {
            mid.value = "";
            let name = document.getElementById("name");
            name.value = "";
        }
    </script>
</body>
</html>